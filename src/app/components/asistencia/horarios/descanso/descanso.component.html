<div class="mt-8 mx-auto max-w-6xl">
  <div class="flex items-center gap-2 mb-4">
    <button mat-stroked-button class="px-3 py-1.5 text-sm border border-red-500 text-red-600 hover:bg-red-50 rounded" (click)="eliminarSeleccionados()">
      <small>Borrar</small>
    </button>
    <button mat-stroked-button class="px-3 py-1.5 text-sm border border-blue-500 text-blue-600 hover:bg-blue-50 rounded" (click)="openModalNuevoDescanso()">
      <small>Nuevo Descanso</small>
    </button>
  </div>

  <div class="overflow-x-auto bg-white border rounded shadow-sm">
    <table class="min-w-full text-sm text-left">
      <thead class="bg-gray-100">
        <tr>
          <th class="px-2 py-2 text-center">
            <input type="checkbox" aria-label="Seleccionar todos">
          </th>
          <th class="px-2 py-2">Nombre</th>
          <th class="px-2 py-2">Hora Inicio</th>
          <th class="px-2 py-2">Hora Final</th>
          <th class="px-2 py-2">Duración</th>
          <th class="px-2 py-2">Tiempo de Cálculo</th>
          <th class="px-2 py-2"></th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let item of dataDescansos" class="border-t hover:bg-gray-50">
          <td class="px-2 py-1 text-center">
            <input type="checkbox" aria-label="Seleccionar descanso">
          </td>
          <td class="px-2 py-1">{{item.alias}}</td>
          <td class="px-2 py-1">{{item.periodStart | date : 'HH:mm:ss'}}</td>
          <td class="px-2 py-1">{{ calcularHoraFin(extraerHora(item.periodStart), item.duration) }}</td>
          <td class="px-2 py-1">{{item.duration}}</td>
          <td class="px-2 py-1">
            <ng-container *ngIf="item.calcType == 0; else manualTemplate">
              Auto Deducir
            </ng-container>
            <ng-template #manualTemplate>
              Manual
            </ng-template>
          </td>
          <td class="px-2 py-1">
            <button mat-icon-button (click)="openModalEditarDescanso(item.id)">
              <mat-icon fontIcon="edit" class="text-gray-600 text-base"></mat-icon>
            </button>
            <button mat-icon-button (click)="openConfirmationDialog(item.id)">
              <mat-icon fontIcon="delete" class="text-red-500 text-base"></mat-icon>
            </button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="mt-4">
    <mat-paginator
      [length]="totalRecords"
      [pageSize]="pageSize"
      [pageIndex]="pageNumber - 1"
      (page)="handlePageEvent($event)"
      [pageSizeOptions]="[5, 10, 20, 50]"
      showFirstLastButtons
      aria-label="Seleccione la página">
    </mat-paginator>
  </div>
</div>
