<!-- <app-sidebar></app-sidebar> -->


<app-terminal-sync
  [isVisible]="isModalVisible"
  [title]="modalTitle"
  [message]="modalMessage"
  (closed)="onModalClosed($event)"
  (confirmed)="onModalConfirmed()"
>
  <strong>Información adicional:</strong> {{ dataEspecifica }}
</app-terminal-sync>

  <app-modal-loading *ngIf="isLoading"></app-modal-loading>

    <div *ngIf="errorMessage && !isLoading" class="alert alert-danger">{{ errorMessage }}</div>

<div class="border-bottom container pt-5 mt-2 mb-5">
  <h3 class="mt-2 mt-md-4 mb-3 pt-5">Dispositivos</h3>

  <div class="btn-group btn-group-sm border" role="group" aria-label="Acciones">
    <button type="button" class="btn btn-light"><small>Nuevo</small></button>
    <button type="button" class="btn btn-danger ml-1"><small>Borrar</small></button>
    <button type="button" class="btn btn-dark ml-1"><small>Nueva Área</small></button>
    <button type="button" class="btn btn-dark ml-1"><small>Borrar Comando Pendiente</small></button>
    <button type="button" class="btn btn-dark ml-1"><small>Borrar Datos</small></button>
    <button type="button" class="btn btn-dark ml-1"><small>Transferencia de Datos</small></button>
    <button type="button" class="btn btn-dark ml-1"><small>Menú Dispositivo</small></button>
  </div>
  


  <div class="mt-4">


    <table  class="table table-striped table-light table-hover">
      <thead>
        <tr>
          <th></th>
          <th scope="col">
            <small>Número de Serie</small>
          </th>
          <th scope="col">
            <small>Nombre</small>
          </th>
          <th scope="col">
            <small>Área</small>
          </th>
          <th scope="col"><small>IP</small></th>
          <th scope="col"><small>Estado</small></th>
          <th scope="col"><small>Ultima Actividad</small></th>
          <th scope="col"><small>Usuario</small></th>
          <th scope="col"><small>Huella</small></th>
          <th scope="col"><small>Rostro</small></th>
          <th scope="col"><small>Palma</small></th>
          <th scope="col"><small>Marcaciones</small></th>
          <th scope="col"><small>Cmd</small></th>
          <th></th>
        </tr>
      </thead>
      <tbody *ngIf="devices && devices.length > 0; else noData">
        <tr *ngFor="let item of devices; let i = index">
          <td>
            
          </td>
          <th scope="row"><small>{{ item.numeroDeSerie }}</small></th>
          <td><small>{{ item.nombre }}</small></td>
          <td><small>{{ item.area }}</small></td>
          <td><small>{{ item.ipDispositivo }}</small></td>
          <td><small>{{ item.estado }}</small></td>
          <td><small>{{ item.ultimaActividad}}</small></td>
          <td><small>{{ item.usuarios }}</small></td>
          <td><small>{{ item.huella }}</small></td>
          <td><small>{{ item.rostro }}</small></td>
          <td><small>{{ item.palma }}</small></td>
          <td><small>{{ item.marcaciones }}</small></td>
          <td><small>{{ item.cmd }}</small></td>
          <th>
            <a (click)="verifyDevice(item.ipDispositivo,item.idTerminal)">
              <i class="fa-solid fa-rss " style="color: rgb(32, 202, 123);"></i>
            </a>
            <a (click)="loadDataDevice(item.ipDispositivo)" >
             <i class="fa-solid fa-cloud-arrow-down ml-2"></i>
            </a>
          </th>
        </tr>
      </tbody>
      <ng-template #noData>
        <tr>
          <td colspan="13">No se encontraron datos.</td>
        </tr>
      </ng-template>
    </table>

    <!-- <button class="btn btn-primary mt-2" (click)="seleccionarTodos()">Seleccionar Todos</button>
    <button class="btn btn-danger mt-2" (click)="deseleccionarTodos()">Deseleccionar Todos</button> -->
    <ul id="elementosSeleccionados" class="mt-3">
      <li *ngIf="elementosSeleccionados.length > 0">
        Elementos seleccionados: {{ elementosSeleccionados.length }} ({{
          elementosSeleccionados.join(", ")
        }})
      </li>
      <li *ngIf="elementosSeleccionados.length === 0">
        No hay elementos seleccionados.
      </li>
    </ul>
  </div>
  
</div>
