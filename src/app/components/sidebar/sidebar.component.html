<!-- sidebar.component.html -->
<aside class="fiori-sidebar bg-fiori-surface border-r border-fiori-border w-full flex flex-col h-full">
  <!-- Header del sidebar -->
  <div class="px-4 py-3 border-b border-fiori-border bg-gradient-to-r from-fiori-surface to-fiori-hover">
    <div class="flex items-center gap-3" *ngIf="!isCollapsed">
      <div class="w-8 h-8 bg-fiori-primary rounded-fiori flex items-center justify-center">
        <i class="fa-solid fa-layer-group text-white text-sm"></i>
      </div>
      <div>
        <span class="text-lg font-semibold text-fiori-text">Navigation</span>
        <p class="text-xs text-fiori-subtext">Sistema de Asistencia</p>
      </div>
    </div>
    <div class="flex justify-center" *ngIf="isCollapsed">
      <div class="w-8 h-8 bg-fiori-primary rounded-fiori flex items-center justify-center">
        <i class="fa-solid fa-layer-group text-white text-sm"></i>
      </div>
    </div>
  </div>

  <!-- Contenido del menú con scroll -->
  <div class="flex-1 overflow-y-auto py-2">
    
    <!-- Sección Personal -->
    <div class="section-divider" *ngIf="activeItem === 'personal'">
      <div class="px-4 py-2" *ngIf="!isCollapsed">
        <span class="text-sm font-bold uppercase tracking-wider text-fiori-subtext">Personal</span>
      </div>
      
      <nav class="space-y-1">
        <!-- Organización -->
        <div class="menu-item" [class.active]="isMenuActive('organizacion')">
          <button 
            class="w-full flex items-center justify-between px-4 py-2.5 text-left hover:bg-fiori-hover transition-colors group"
            (click)="toggleMenu(1, 'organizacion')"
            [attr.title]="isCollapsed ? 'Organización' : null">
            <div class="flex items-center gap-3">
              <div class="w-6 h-6 flex items-center justify-center">
                <i class="fa-regular fa-building text-fiori-primary text-sm"></i>
              </div>
              <span class="text-sm font-medium text-fiori-text" *ngIf="!isCollapsed">Organización</span>
            </div>
            <i class="fa-solid fa-chevron-right text-xs text-fiori-subtext chevron-icon transition-transform" 
               [class.rotate-90]="isOpen(1, 'organizacion')"
               *ngIf="!isCollapsed"></i>
          </button>
          
          <div class="submenu overflow-hidden transition-all duration-200" 
               [class.max-h-0]="!isOpen(1, 'organizacion')"
               [class.max-h-96]="isOpen(1, 'organizacion')"
               *ngIf="!isCollapsed">
            <div class="pl-8 py-1 space-y-0.5">

              <a 
                class="submenu-item block px-3 py-2 text-sm text-fiori-text hover:bg-fiori-hover rounded-fiori transition-colors"
                [class.active]="isRouteActive('panel/personal/organizacion/app-user')"
                [routerLink]="['panel/personal/organizacion/app-user']"
                routerLinkActive="active">
                Usuarios
              </a>
              <a 
                class="submenu-item block px-3 py-2 text-sm text-fiori-text hover:bg-fiori-hover rounded-fiori transition-colors"
                [class.active]="isRouteActive('panel/personal/organizacion/usuario-sede')"
                [routerLink]="['panel/personal/organizacion/usuario-sede']"
                routerLinkActive="active">
                Usuarios Sede
              </a>

              <a 
                class="submenu-item block px-3 py-2 text-sm text-fiori-text hover:bg-fiori-hover rounded-fiori transition-colors"
                [class.active]="isRouteActive('panel/personal/organizacion/sede-area-costo')"
                [routerLink]="['panel/personal/organizacion/sede-area-costo']"
                routerLinkActive="active">
                sede y Área de Costo
              </a>
              <a 
                class="submenu-item block px-3 py-2 text-sm text-fiori-text hover:bg-fiori-hover rounded-fiori transition-colors"
                [class.active]="isRouteActive('panel/personal/organizacion/sede-ccosto')"
                [routerLink]="['panel/personal/organizacion/sede-ccosto']"
                routerLinkActive="active">
                Sede y Centro de Costo
              </a>              
            </div>
          </div>
        </div>

        <!-- Empleado -->
        <div class="menu-item" [class.active]="isMenuActive('empleado')">
          <button 
            class="w-full flex items-center justify-between px-4 py-2.5 text-left hover:bg-fiori-hover transition-colors group"
            (click)="toggleMenu(1, 'empleado')"
            [attr.title]="isCollapsed ? 'Empleado' : null">
            <div class="flex items-center gap-3">
              <div class="w-6 h-6 flex items-center justify-center">
                <i class="fa-solid fa-id-badge text-fiori-primary text-sm"></i>
              </div>
              <span class="text-sm font-medium text-fiori-text" *ngIf="!isCollapsed">Empleado</span>
            </div>
            <i class="fa-solid fa-chevron-right text-xs text-fiori-subtext chevron-icon transition-transform" 
               [class.rotate-90]="isOpen(1, 'empleado')"
               *ngIf="!isCollapsed"></i>
          </button>
          
          <div class="submenu overflow-hidden transition-all duration-200" 
               [class.max-h-0]="!isOpen(1, 'empleado')"
               [class.max-h-96]="isOpen(1, 'empleado')"
               *ngIf="!isCollapsed">
            <div class="pl-8 py-1 space-y-0.5">
              <a 
                class="submenu-item block px-3 py-2 text-sm text-fiori-text hover:bg-fiori-hover rounded-fiori transition-colors"
                [routerLink]="['panel/personal/empleado/empleado']"
                routerLinkActive="active">
                Empleados
              </a>
              <a 
                class="submenu-item block px-3 py-2 text-sm text-fiori-text hover:bg-fiori-hover rounded-fiori transition-colors"
                [routerLink]="['panel/personal/empleado/cese']"
                routerLinkActive="active">
                Cese
              </a>
              <a 
                class="submenu-item block px-3 py-2 text-sm text-fiori-text hover:bg-fiori-hover rounded-fiori transition-colors"
                [routerLink]="['panel/personal/empleado/asignar-horario']"
                routerLinkActive="active">
                Asignar Horario
              </a>
            </div>
          </div>
        </div>

        <!-- Proceso y Aprobación -->
        <div class="menu-item" [class.active]="isMenuActive('pamenu')">
          <button 
            class="w-full flex items-center justify-between px-4 py-2.5 text-left hover:bg-fiori-hover transition-colors group"
            (click)="toggleMenu(1, 'pamenu')"
            [attr.title]="isCollapsed ? 'Proceso y Aprobación' : null">
            <div class="flex items-center gap-3">
              <div class="w-6 h-6 flex items-center justify-center">
                <i class="fa-solid fa-check-double text-fiori-primary text-sm"></i>
              </div>
              <span class="text-sm font-medium text-fiori-text" *ngIf="!isCollapsed">Proceso y Aprobación</span>
            </div>
            <i class="fa-solid fa-chevron-right text-xs text-fiori-subtext chevron-icon transition-transform" 
               [class.rotate-90]="isOpen(1, 'pamenu')"
               *ngIf="!isCollapsed"></i>
          </button>
          
          <div class="submenu overflow-hidden transition-all duration-200" 
               [class.max-h-0]="!isOpen(1, 'pamenu')"
               [class.max-h-96]="isOpen(1, 'pamenu')"
               *ngIf="!isCollapsed">
            <div class="pl-8 py-1 space-y-0.5">
              <a class="submenu-item block px-3 py-2 text-sm text-fiori-text hover:bg-fiori-hover rounded-fiori transition-colors" href="#" routerLinkActive="active">
                Rol Aprobadores
              </a>
              <a class="submenu-item block px-3 py-2 text-sm text-fiori-text hover:bg-fiori-hover rounded-fiori transition-colors" href="#" routerLinkActive="active">
                Proceso de Permiso
              </a>
              <a class="submenu-item block px-3 py-2 text-sm text-fiori-text hover:bg-fiori-hover rounded-fiori transition-colors" href="#" routerLinkActive="active">
                Aprobaciones
              </a>
            </div>
          </div>
        </div>

        <!-- Configuración -->
        <div class="menu-item" [class.active]="isMenuActive('configuracion')">
          <button 
            class="w-full flex items-center justify-between px-4 py-2.5 text-left hover:bg-fiori-hover transition-colors group"
            (click)="toggleMenu(1, 'configuracion')"
            [attr.title]="isCollapsed ? 'Configuración' : null">
            <div class="flex items-center gap-3">
              <div class="w-6 h-6 flex items-center justify-center">
                <i class="fa-solid fa-wrench text-fiori-primary text-sm"></i>
              </div>
              <span class="text-sm font-medium text-fiori-text" *ngIf="!isCollapsed">Configuración</span>
            </div>
            <i class="fa-solid fa-chevron-right text-xs text-fiori-subtext chevron-icon transition-transform" 
               [class.rotate-90]="isOpen(1, 'configuracion')"
               *ngIf="!isCollapsed"></i>
          </button>
          
          <div class="submenu overflow-hidden transition-all duration-200" 
               [class.max-h-0]="!isOpen(1, 'configuracion')"
               [class.max-h-96]="isOpen(1, 'configuracion')"
               *ngIf="!isCollapsed">
            <div class="pl-8 py-1 space-y-0.5">
              <a class="submenu-item block px-3 py-2 text-sm text-fiori-text hover:bg-fiori-hover rounded-fiori transition-colors" href="#" routerLinkActive="active">
                Documento
              </a>
            </div>
          </div>
        </div>
      </nav>
    </div>

    <!-- Sección Dispositivo -->
    <div class="section-divider" *ngIf="activeItem === 'dispositivo'">
      <div class="px-4 py-2" *ngIf="!isCollapsed">
        <span class="text-xs font-bold uppercase tracking-wider text-fiori-subtext">Dispositivo</span>
      </div>
      
      <nav class="space-y-1">
        <div class="menu-item" *ngFor="let item of dispositivoMenu" [class.active]="isMenuActive(item.key)">
          <button 
            class="w-full flex items-center justify-between px-4 py-2.5 text-left hover:bg-fiori-hover transition-colors group"
            (click)="toggleMenu(1, item.key)"
            [attr.title]="isCollapsed ? item.label : null">
            <div class="flex items-center gap-3">
              <div class="w-6 h-6 flex items-center justify-center">
                <i class="fa-solid text-fiori-primary text-sm" [ngClass]="item.icon"></i>
              </div>
              <span class="text-sm font-medium text-fiori-text" *ngIf="!isCollapsed">{{ item.label }}</span>
            </div>
            <i class="fa-solid fa-chevron-right text-xs text-fiori-subtext chevron-icon transition-transform" 
               [class.rotate-90]="isOpen(1, item.key)"
               *ngIf="!isCollapsed"></i>
          </button>
          
          <div class="submenu overflow-hidden transition-all duration-200" 
               [class.max-h-0]="!isOpen(1, item.key)"
               [class.max-h-96]="isOpen(1, item.key)"
               *ngIf="!isCollapsed">
            <div class="pl-8 py-1 space-y-0.5">
              <a 
                *ngFor="let sub of item.submenu"
                class="submenu-item block px-3 py-2 text-sm text-fiori-text hover:bg-fiori-hover rounded-fiori transition-colors"
                [class.active]="sub.link && isRouteActive(sub.link)"
                [routerLink]="sub.link || '#'"
                [class.text-fiori-subtext]="!sub.link"
                [class.cursor-default]="!sub.link"
                routerLinkActive="active">
                {{ sub.label }}
              </a>
            </div>
          </div>
        </div>
      </nav>
    </div>

    <!-- Sección Asistencia -->
    <div class="section-divider" *ngIf="activeItem === 'asistencia'">
      <div class="px-4 py-2" *ngIf="!isCollapsed">
        <span class="text-xs font-bold uppercase tracking-wider text-fiori-subtext">Asistencia</span>
      </div>
      
      <nav class="space-y-1">
        <div class="menu-item" *ngFor="let item of asistenciaMenu" [class.active]="isMenuActive(item.key)">
          <button 
            class="w-full flex items-center justify-between px-4 py-2.5 text-left hover:bg-fiori-hover transition-colors group"
            (click)="toggleMenu(1, item.key)"
            [attr.title]="isCollapsed ? item.label : null">
            <div class="flex items-center gap-3">
              <div class="w-6 h-6 flex items-center justify-center">
                <i class="fa-solid text-fiori-primary text-sm" [ngClass]="item.icon"></i>
              </div>
              <span class="text-sm font-medium text-fiori-text" *ngIf="!isCollapsed">{{ item.label }}</span>
            </div>
            <i class="fa-solid fa-chevron-right text-xs text-fiori-subtext chevron-icon transition-transform" 
               [class.rotate-90]="isOpen(1, item.key)"
               *ngIf="!isCollapsed"></i>
          </button>
          
          <div class="submenu overflow-hidden transition-all duration-200" 
               [class.max-h-0]="!isOpen(1, item.key)"
               [class.max-h-96]="isOpen(1, item.key)"
               *ngIf="!isCollapsed">
            <div class="pl-8 py-1 space-y-0.5">
              <a 
                *ngFor="let sub of item.submenu"
                class="submenu-item block px-3 py-2 text-sm text-fiori-text hover:bg-fiori-hover rounded-fiori transition-colors"
                [class.active]="sub.link && isRouteActive(sub.link)"
                [routerLink]="sub.link || '#'"
                [class.text-fiori-subtext]="!sub.link"
                [class.cursor-default]="!sub.link"
                routerLinkActive="active">
                {{ sub.label }}
              </a>
            </div>
          </div>
        </div>
      </nav>
    </div>

    <!-- Secciones adicionales para otros activeItems -->
    <div class="section-divider" *ngIf="activeItem === 'acceso'">
      <div class="px-4 py-2" *ngIf="!isCollapsed">
        <span class="text-xs font-bold uppercase tracking-wider text-fiori-subtext">Control de Acceso</span>
      </div>
      <nav class="space-y-1">
        <div class="menu-item">
          <a class="w-full flex items-center px-4 py-2.5 text-left hover:bg-fiori-hover transition-colors" href="#" [attr.title]="isCollapsed ? 'Configuración de Acceso' : null">
            <div class="flex items-center gap-3">
              <div class="w-6 h-6 flex items-center justify-center">
                <i class="fa-solid fa-key text-fiori-primary text-sm"></i>
              </div>
              <span class="text-sm font-medium text-fiori-text" *ngIf="!isCollapsed">Configuración de Acceso</span>
            </div>
          </a>
        </div>
      </nav>
    </div>

    <div class="section-divider" *ngIf="activeItem === 'temperatura'">
      <div class="px-4 py-2" *ngIf="!isCollapsed">
        <span class="text-xs font-bold uppercase tracking-wider text-fiori-subtext">Control de Temperatura</span>
      </div>
      <nav class="space-y-1">
        <div class="menu-item">
          <a class="w-full flex items-center px-4 py-2.5 text-left hover:bg-fiori-hover transition-colors" href="#" [attr.title]="isCollapsed ? 'Monitor de Temperatura' : null">
            <div class="flex items-center gap-3">
              <div class="w-6 h-6 flex items-center justify-center">
                <i class="fa-solid fa-thermometer text-fiori-primary text-sm"></i>
              </div>
              <span class="text-sm font-medium text-fiori-text" *ngIf="!isCollapsed">Monitor de Temperatura</span>
            </div>
          </a>
        </div>
      </nav>
    </div>

    <div class="section-divider" *ngIf="activeItem === 'sistema'">
      <div class="px-4 py-2" *ngIf="!isCollapsed">
        <span class="text-xs font-bold uppercase tracking-wider text-fiori-subtext">Configuración del Sistema</span>
      </div>
      <nav class="space-y-1">
        <div class="menu-item">
          <a class="w-full flex items-center px-4 py-2.5 text-left hover:bg-fiori-hover transition-colors" href="#" [attr.title]="isCollapsed ? 'Configuración General' : null">
            <div class="flex items-center gap-3">
              <div class="w-6 h-6 flex items-center justify-center">
                <i class="fa-solid fa-cog text-fiori-primary text-sm"></i>
              </div>
              <span class="text-sm font-medium text-fiori-text" *ngIf="!isCollapsed">Configuración General</span>
            </div>
          </a>
        </div>
      </nav>
    </div>

  </div>

  <!-- Footer del sidebar -->
  <div class="border-t border-fiori-border p-3" *ngIf="!isCollapsed">
    <div class="flex items-center gap-2 text-xs text-fiori-subtext">
      <i class="fa-solid fa-info-circle"></i>
      <span>Sistema v2.1.0</span>
    </div>
  </div>
  
  <!-- Footer colapsado -->
 

</aside>